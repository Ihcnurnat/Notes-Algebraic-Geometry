\section{2.2.6. Definition: Sheaf.}

Comments on $\mathscr{F} (\emptyset)$. In category $\textbf{Set}$, the empty set is initial object and one element set is terminal. See Wiki's examples \href{https://en.wikipedia.org/wiki/Initial_and_terminal_objects#:~:text=Similarly%2C%20the%20empty%20space%20is,hence%20the%20unique%20zero%20object.}{HERE}.

\subsection{Example}

\section{2.2.B. Presheaves that are not SHEAVES.}

\subsection{(a)}
For (a): see Wiki's counterexample \href{https://en.wikipedia.org/wiki/Sheaf_(mathematics)}{HERE}, which gave an explanation for presheaves on $\mathbb R$ instead of $\mathbb C$.
See a post \href{https://math.stackexchange.com/questions/2946197/why-is-the-bounded-functions-not-a-sheaf}{HERE}.

\subsection{(b)}

See a post \href{https://math.stackexchange.com/questions/38423/presheaf-which-is-not-a-sheaf-holomorphic-functions-which-admit-a-holomorphic}{HERE}, \href{https://math.stackexchange.com/questions/1372943/do-analytic-functions-on-open-subsets-of-mathbbc-with-an-analytic-square-ro}{HERE}, and \href{https://math.stackexchange.com/questions/1938930/why-is-the-presheaf-of-holomorphic-functions-that-admit-a-square-root-not-a-shea}{HERE}.

\begin{proof}
This problem is based on some knowledge from complex analysis. Here are some facts: \begin{itemize}
	\item When does a complex function have a \href{https://math.stackexchange.com/questions/188359/when-does-a-complex-function-have-a-square-root}{square root}?
	\item Theorem 6.2 on Page 100 of \cite{stein2010complex}. This means $f(x)=x$ as a function on $\mathbb C$ does not admit a square root for it will vanish.
\end{itemize}
However, we can cover $\mathbb C$ by two slit regions $U_1=\mathbb C-(-\infty,0],U_2=\mathbb C-[0,\infty)$. And on each $U_i$, $f\mid_{U_i}$ admits a square root and satisfy gluability axiom.

The solution given in \href{https://math.stackexchange.com/questions/38423/presheaf-which-is-not-a-sheaf-holomorphic-functions-which-admit-a-holomorphic}{HERE} is saying on annulus, $f(x)=x$ cannot have a square root. And then we can follow argument of \href{https://math.stackexchange.com/questions/1372943/do-analytic-functions-on-open-subsets-of-mathbbc-with-an-analytic-square-ro}{HERE}.

\end{proof}

\section{2.2.7.}

See Daping's Notes Definition 2.5 on Page 4 \href{http://www.math.uchicago.edu/%7Emay/VIGRE/VIGRE2011/REUPapers/WengD.pdf}{HERE}; also a post \href{https://math.stackexchange.com/questions/4080618/describe-sheaf-properties-via-equalizers}{HERE}; also a post \href{https://math.stackexchange.com/questions/453203/definition-of-sheaf-using-equalizer}{HERE}.

See a post \href{https://math.stackexchange.com/questions/4156317/sheaf-axioms-and-limits-intuition}{HERE} and \href{https://math.stackexchange.com/questions/455706/gluing-sheaves-can-we-realize-mathcalfw-as-some-kind-of-limit}{HERE} regarding gluing sheaves. 

\section{2.2.C.}

Since $\cup U_i$ is colimit for $\{U_i\}$, then $\mathscr F(\cup U_i)$ will be limit because of the contravariance.\todo{?}

See an expository post \href{https://math.stackexchange.com/questions/4156317/sheaf-axioms-and-limits-intuition}{HERE}.

See another post, with more detailed explanations \href{https://math.stackexchange.com/questions/455706/gluing-sheaves-can-we-realize-mathcalfw-as-some-kind-of-limit}{HERE}. "In fancy language, it's stack"...

\section{2.2.D.}\label{2.2.D.}

(b) Motivating example for definition of sheaf.

\section{2.2.E.}

See comments for Exercise 1.1. of Chapter 2 \cite{hartshorne2013algebraic}.

\section{2.2.F.}

Almost by definition.

\section{2.2.G.}

\subsection{(a)}



\section{2.2.9.}

See a post \href{https://math.stackexchange.com/questions/385591/question-on-sheafification-of-a-presheaf}{HERE}.

\section{2.2.10.}


\subsection{References}
See this \href{POST} regarding constant presheaf. 
It's different from a post \href{https://math.stackexchange.com/questions/195363/constant-presheaf-not-necessarily-a-sheaf-proof}{HERE}, and Wiki's page on \href{https://en.wikipedia.org/wiki/Constant_sheaf}{Constant pre-Sheaf}. \todo{Why???}\\\\

\subsection{}
Clearly it's a contravariant functor 
\[\mathscr F:=\underline{S}_{\text{pre}}:\mathbf{Top}(X)\to \mathbf{Set}\]

Let $X=\{a,b\}$ with discrete topology. Pick two sections 
\[s_1\in\mathscr F(\{a\})=S,~ s_2\in\mathscr F(\{b\})=S\] such that $s_1\neq s_2$ given $S$ has at least two distinct elements. 
Clearly we have 
\[s_1\mid_{\{a\}\cap \{b\}}=s_1\mid_{\emptyset}=e=\cdots=s_2\mid_{\{a\}\cap\{b\}}.\]
If it's a sheaf then there exists a global section $s\in\mathscr F(\{a,b\})=S$ such that 
\[s_1=s\mid_{\{a\}}=s\mid_{\{b\}}=s_2,\] contradiction. It follows that constant presheaf defined this way is not necessarily a sheaf.

\section{2.2.E.}

We have to deceptively identical pre-sheaves $\mathscr F_1$ defined as locally closed, and $\mathscr F_2$ defined by giving $S$ discrete topology\dots 

We wish to prove they, as pre-sheaves, are isomorphic. Equivalent, we need to exhibit a natural transformation that admits an inverse. And it suffices to prove by element inclusions: 
\begin{itemize}
	\item Let $f:U\to S$ be a map that's locally constant. Now we take $g(u)=f(u)$ as a map $g:U\to S$ with $S$ endowed with a discrete topology. We claim that $g$ is continuous. It suffices to check for each $s\in S$, the fiber $g^{-1}(s)$ is open. For any point $a\in g^{-1}(s)=f^{-1}(s)$, there exists an open neighborhood $V_a\subset f^{-1}(s)$ such that 
	\[f(V_a)=\{s\}\] given $f$ is locally constant. While $V_a\subset g^{-1}(s)$, therefore we know $g^{-1}(s)$ is open and $g$ is continuous. 
	\item Conversely, we assume $g:U\to S$ with $S$ given a discrete topology is continuous. We claim $f=g$ is locally constant. For any point $p\in U$, there is an open neighborhood \[g^{-1}(f(p))\ni p\] such that $f$ is constant because $f(g^{-1}(f(p)))=\{p\}$. 
\end{itemize}

Now we try to check constant sheaf $\mathscr F$ is indeed a sheaf. We're going to prove identity axiom and gluability axiom using the "better description", which is much easier to check:
\begin{itemize}
	\item If we have two functions, which equal whenever we restric to any open subset from an open cover, then they must be equal. For functions are precisely defined this way.
	\item Define the global section for any choice, and it's going to be well-defined for they're compatible.
\end{itemize}
Therefore $\mathscr F=\underline S$ is indeed a sheaf. 
 
\section{2.2.F.}
Same argument as \ref{2.2.D.}.

\section{2.2.G.}

\subsection{(a)}
It's clearly a pre-sheaf.

Fix an open subset $U\subset X$ with an open cover $\{U_i\}_{i\in I}$ for some index set $I$. Denote the presheaf as $\mathscr F$.

Pick two continuous maps $s_1,s_2:Y\to X$ that satisfying the requirements, i.e. $s_1,s_2\in\mathscr F(U)$.

Both functions will agree on $U$ since 
\[\operatorname{Res}_{U,U_i}~ s_1=\operatorname{Res}_{U,U_i}~ s_1\] for arbitrary $U_i$, whose union is $U$. So we must have $s_1=s_2$.

Again with this open cover $\{U_i\}_{i\in I}$ and $a_i\in \mathscr F(U_i)$ for $i\in I$. Equivalently, we know $a_i:U_i\to Y$ is a continuous map satisfying $\mu\circ a_i=\operatorname{Id}\mid_{U_i}$.
Now let's define a map 
\begin{align*}
    f:U &\to Y\\
    u &\mapsto a_i(u) ~\text{ when }~ u\in U_i.     
\end{align*}It's well-defined by our assumption. Also it's continuous since preimage of an open set in $V\subset Y$ is a union of open subsets given by continuity of each $a_i$. Similarly we can check $\mu\circ f=\operatorname{Id}\mid_{U}$ as expected.\todo{Unverified ?}

\subsection{(b)}



\section{2.2.11. Espace \'Etal\'e}
See a post discussion accent letter in LaTeX \href{https://tex.stackexchange.com/questions/8857/how-to-type-special-accented-letters-in-latex}{HERE}.

See an exercise in \cite{hartshorne2013algebraic} Chapter 2, Exercise 1.13.

See the discussion after Lemma 7. on Page 229 of \cite{bosch2013algebraic}.

For \textit{section}, see Wiki's explanation for \href{https://en.wikipedia.org/wiki/Section_(fiber_bundle)}{\textit{section}} in context of fiber bundle; and \href{https://en.wikipedia.org/wiki/Section_(category_theory)}{\textit{section}} in terms of category theory.

See a detailed post \href{https://math.stackexchange.com/questions/3625209/section-of-a-presheaf-can-be-viewed-as-functions}{HERE}.

\section{2.2.H.}
Clearly it's again a contravariant functor, therefore $\pi_{\ast}\mathscr F$ must be a pre-sheaf. When $\mathscr F$ is a sheaf, I checked identity axiom (lots of things to write down).

\section{2.3.A.}

I'm planning to use universal property to define the induced map $\phi_P$.

One crutial step is to verify the diagram below is commutative

% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXG1hdGhzY3IgRihVKSJdLFswLDEsIlxcbWF0aHNjciBHKFUpIl0sWzIsMCwiXFxtYXRoc2NyIEYoVikiXSxbMiwxLCJcXG1hdGhzY3IgRyhWKSJdLFsxLDIsIlxcbWF0aHNjciBHX1AiXSxbMCwxLCJcXHBoaShVKSIsMl0sWzAsMiwiXFxyaG9fe1VWfSJdLFsxLDMsIlxcdGF1X3tVVn0iLDJdLFsyLDMsIlxccGhpKFYpIl0sWzEsNF0sWzMsNF1d
\[\begin{tikzcd}
	{\mathscr F(U)} && {\mathscr F(V)} \\
	{\mathscr G(U)} && {\mathscr G(V)} \\
	& {\mathscr G_P}
	\arrow["{\phi(U)}"', from=1-1, to=2-1]
	\arrow["{\rho_{UV}}", from=1-1, to=1-3]
	\arrow["{\tau_{UV}}"', from=2-1, to=2-3]
	\arrow["{\phi(V)}", from=1-3, to=2-3]
	\arrow[from=2-1, to=3-2]
	\arrow[from=2-3, to=3-2]
\end{tikzcd}\]

And this is because the square diagram in the upper half commute given $\phi$ is a natural transformation; the lower half is by definition of $\mathscr G_P$. Then by universal property of colimit induces a map
\[\phi_P:\mathscr F_P\to\mathscr G_P\] which makes the diagram commute.

See a post defined the map \href{https://math.stackexchange.com/questions/1387214/the-induced-map-on-stalks-is-well-defined}{HERE}.

\section{2.3.B.}
To define a functor $\pi_{\ast}:\textbf{Set}_X\to\textbf{Set}_Y$.
Firstly, we have to define for any $\mathscr F\in \textbf{Set}_X$, 
\[\pi_{\ast}(\mathscr F)(U)=\mathscr F(\pi^{-1}(U))\] for any $U\in \mathfrak{Top}(X)$ as in \ref{2.2.H.}. 

Secondly, for any natural transformation $\phi:\mathscr F\to\mathscr G$, we define $\pi_{\ast}(\phi)$ by specifying 
\[\pi_{\ast}(\phi)(U) ~\mapsto \mathscr F(\pi^{-1}(U))\to\mathscr G(\pi^{-1}(U)).\]\todo{? Is this correct}

\section{2.3.C.}\label{2.3.C.}

This is Exercise 1.15. from Chapter II of \cite{hartshorne2013algebraic} on Page 67.

\begin{proof}
Clearly $\operatorname{Hom}(\mathscr F,\mathscr G)(U)$ takes value in the set of all natural transformations from $\mathscr F\mid_U$ to $\mathscr G\mid_U$. Namely, we have 

\[U\mapsto \operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U).\]
The restriction map induced by $V\subset U$ is given by consider a natural morphism $\alpha\in\operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)$ as a natural morphism from 
\[\mathscr F\mid_V\to \mathscr G\mid_V.\]So set-theoretically restriction map is identity map, with exception that it regard an element as a presheaf on a smaller open subset.\todo{?}

Hence $\operatorname{Hom}(\mathscr F,\mathscr G)(\cdot)$ is a presheaf. 

Fix an open subset $U\subset X$, with an open covering $\{U_i\}_{i\in I}$ for some index set $I$. Pick two natural transformations $\alpha,\beta\in\operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)$. Assume for any $i\in I$, 
\[\operatorname{Res}_{U,U_i}\alpha=\operatorname{Res}_{U,U_i}\beta.\]
More precisely, this means for any open subset $V_i\subset U_i$ where $i\in I$ is arbitrary, we have 
\[\alpha\mid_{U_i}(V_i)=\beta\mid_{U_i}(V_i).\]
However, note $\{U_i\}_{i\in I}$ is an open cover for the whole space $U$ we're considering. It follows that for any open subset $W\subset U$, we can denote $W_i=W\cap U_i$ and express $W$ as a union of $W_i$ where $i\in I$.
\begin{align*}
	\alpha(W)=&\alpha\left(\bigcup_{i\in I} W_i\right) \in \operatorname{Obj}(\textbf{Set})\\
	=& \bigcup_{i\in I}\alpha(W_i)\\
	=& \bigcup_{i\in I}\alpha\mid_{U_i}(W_i)\\
	=& \bigcup_{i\in I}\beta\mid_{U_i}(W_i)\\
	=& \cdots\\
	=&\beta(W).
\end{align*}Here the third equality holds by the definition of restriction map. While $W\subset U$ is arbitrary, it follows that $\alpha=\beta\in\operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)$ as expected. 

It remains to check gluability. Again $\{U_i\}_{i\in I}$ is an open cover of $U$. Pick natural transformations $\alpha_i\in \operatorname{Mor}(\mathscr F\mid_{U_i},\mathscr G\mid_{U_i})$. They're compatiable in the sense that for any open subset $W_{ij}\subset U_i\cap U_j$, we know 
\[\operatorname{Res}_{U_i,U_i\cap U_j}\alpha_i=\operatorname{Res}_{U_j,U_i\cap U_j}\alpha_j ~\Rightarrow~ \alpha_i(W_{ij})=\alpha_{j}(W_{ij}).\]
Now we try to define a natrual transformation $\alpha\in\operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)$ such that $\alpha\mid_{U_i}=\alpha_i$. For any open subset $Y\subset U$, denotes $Y_i:=Y\cap U_i$. 
\begin{align*}
	\alpha(Y) : \mathscr F\mid_{U}(Y)\to &~ \mathscr G\mid_{U}(Y)\\
	\mathscr F\mid_{U}(Y_i)\ni x \mapsto &~ \alpha_i(x).
\end{align*} 
This is map in sets, it's well-defined for $\{Y_i\}_{i\in I}$ is an open covering for $Y$ and each $\alpha_i$ is compatiable. By construction we know $\alpha\mid_{U_i}=\alpha_i$. Hence we've checked gluability.\todo{Need to check, but I think it's basically unwrapping a long long defintion}

\end{proof}

\subsection{Verification}

See a post \href{https://math.stackexchange.com/questions/294802/prove-that-sheaf-hom-is-a-sheaf}{HERE}.

Also see a lemma from Stacks Project \href{https://stacks.math.columbia.edu/tag/00AK}{HERE}. This lemma basically proves gluability and uniqueness, based on the fact that Sheaf Hom is already a pre-sheaf.
In the proof of the above lemma, we defined the natural transformation in the way such that the following diagram commute 

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJzXFxpblxcbWF0aHNjciBGKFUpIl0sWzEsMCwiXFxtYXRoc2NyIEcoVSkiXSxbMCwxLCJcXG1hdGhzY3IgRihWKSJdLFsxLDEsIlxcbWF0aHNjciBHKFYpIl0sWzAsMSwiXFx2YXJwaGlfVSJdLFswLDJdLFsxLDNdLFsyLDMsIlxcdmFycGhpX1YiLDJdXQ==
\[\begin{tikzcd}
	{s\in\mathscr F(U)} & {\mathscr G(U)} \\
	{\mathscr F(V)} & {\mathscr G(V)}
	\arrow["{\varphi_U}", from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow["{\varphi_V}"', from=2-1, to=2-2]
\end{tikzcd}\]
And this relies on the fact that $\mathscr G$ is a sheaf!, by looking at every $U\cap U_i$, which covers $U$.

\subsection{Warning}

Sheaf Hom does not commute with taking stalks. But there exists at least one map from 
\begin{align*}
	&\operatorname{Hom}(\mathscr F,\mathscr G)_p\to \operatorname{Hom}(\mathscr F_p,\mathscr G_p)\\
	& \{(\alpha,U)~\mid~ p\in U,~ \alpha\in \operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)\}/\sim_1 \mapsto ... 
\end{align*}

\subsection{Warning: References}

See a post \href{https://math.stackexchange.com/questions/16203/why-doesnt-hom-commute-with-taking-stalks}{HERE}, which contains a link to the detailed version of the counterexample \href{http://www.jliumath.com/teaching/fall2022AG/Sheet5.pdf}{HERE}. According to post \href{https://mathoverflow.net/questions/642/stalks-of-sheaf-hom}{HERE}, The direction was correct.\todo{\ding{42}}

See Stefan's notes on Page 18 for a concrete example \href{https://www.math.toronto.edu/jkamnitz/seminar/perverse/stefan.pdf}{HERE}. One comment on "Hom functor preserve limit" \href{https://ncatlab.org/nlab/show/hom-functor+preserves+limits}{HERE}.

Also, the first argument $\mathscr F$ doesn't have to be a sheaf, a pre-sheaf is enough. See a post \href{https://math.stackexchange.com/questions/155188/about-sheaf-hom}{HERE}.

\subsection{Counterexample}

I'll add some details to the first example mentioned in the \href{https://math.stackexchange.com/questions/16203/why-doesnt-hom-commute-with-taking-stalks}{post} linked above.

\begin{proof}
	For any $U\subset X$, where $\mathscr F$ is skycraper sheaf at $p\in X$ with value group $A$ and $\mathscr G$ is a constant sheaf on topological space $X$ with value group $A$. We claim that 
	\[\mathcal Hom (\mathscr F,\mathscr G)(U)=\operatorname{Mor}(\mathscr F\mid_U,\mathscr G\mid_U)=0\] as an Abelian group for arbitrary $U\subset X$. 
	
	It suffices to check the above statment is correct when $U=X$ for $\mathcal Hom(\mathscr F,\mathscr G)$ is a sheaf, i.e. we need to show the group
	\[\mathcal Hom(\mathscr F,\mathscr G)(X)=\operatorname{Mor}(\mathscr F,\mathscr G)=0\] 
	
	Pick any natural transformation $\alpha\in\operatorname{Mor}(\mathscr F,\mathscr G)$. We wish to show the group homomorphism $\alpha(U)$ is $0$ (i.e. sends everything to $0$ in the codomain $\mathscr G(U)$). For an open subset $U$, it admits an open covering $\{U_i\}$ in which every $U_i$ is connected. While $\mathscr G$ is a sheaf, to prove $\alpha(U)=0$ it suffices to check $\alpha(U_i)=0$. Fix $i$ and denote $U_i=U_0$. When $p\notin U_0$, then $\mathscr F(U_0)=0$ and the map $\alpha(U_0)=0$.

	Now assume $p\notin U_0$. We can still argue $\alpha(U_0)$ is $0$ group homomorphism by restrict it to a smaller open subset that doesn't contain $p$, because the skycraper sheaf will be $0$ group. 

	Assume $p$ is closed an not open, which means it's not isolated\todo{?}. Then $V:=U\setminus \{p\}$ is an open subset that doesn't contain $p$, hence $\mathscr F(V)=0$ by definition. 
	% https://q.uiver.app/#q=WzAsNixbMCwwLCJcXG1hdGhzY3IgRihVKSJdLFsxLDAsIlxcbWF0aHNjciBHKFUpPVxcb3BsdXNfe2lcXGluIEl9IEEiXSxbMSwxLCJcXG1hdGhzY3IgRyhVX2kpPUEiXSxbMCwxLCJcXG1hdGhzY3IgRihVX2kpIl0sWzAsMiwiXFxtYXRoc2NyIEYoVl9pKT0wIl0sWzEsMiwiXFxtYXRoc2NyIEcoVl9pKT1BIl0sWzAsMSwiXFxhbHBoYShVKSJdLFsxLDJdLFswLDNdLFszLDIsIlxcYWxwaGFfaShVKSJdLFszLDRdLFs0LDVdLFsyLDUsIlxcb3BlcmF0b3JuYW1le2lkfSJdXQ==

% https://q.uiver.app/#q=WzAsNCxbMSwwLCJcXG1hdGhzY3IgRyhVXzApPUEiXSxbMCwwLCJcXG1hdGhzY3IgRihVXzApIl0sWzAsMSwiXFxtYXRoc2NyIEYoVik9MCJdLFsxLDEsIlxcbWF0aHNjciBHKFYpIl0sWzEsMCwiXFxhbHBoYShVKSJdLFsxLDIsIlxcb3BlcmF0b3JuYW1le1Jlc31fe1VfMFZ9IiwyXSxbMiwzXSxbMCwzXV0=
\[\begin{tikzcd}
	{\mathscr F(U_0)} & {\mathscr G(U_0)=A} \\
	{\mathscr F(V)=0} & {\mathscr G(V)=\oplus A}
	\arrow["{\alpha(U)}", from=1-1, to=1-2]
	\arrow["{\operatorname{Res}_{U_0V}}"', from=1-1, to=2-1]
	\arrow[from=2-1, to=2-2]
	\arrow[from=1-2, to=2-2]
\end{tikzcd}\]
Notice that we assumed $U_0$ to connected, therefore $\mathscr G(U_0)=A$ is composed of single one copy of $A$. While $\mathscr G(V)=\oplus_{j\in J} A$ for some index set $J$.
We claim that $\mathscr G(U_0)\to \mathscr G(V)$ is an injection: 
\begin{itemize}
	\item We claim that the map is in fact diagonal map by considering the following commutative diagram 
	% https://q.uiver.app/#q=WzAsNCxbMCwwLCJhXFxpbiBcXG1hdGhzY3IgRyhVXzApIl0sWzAsMSwiXFxhbWFsZ197cFxcaW4gVV8wfVxcbWF0aHNjciBHX3A9XFxhbWFsZ197cFxcaW4gVV8wfUEiXSxbMSwwLCIoYSxhLC4uLixhKVxcaW5cXG1hdGhzY3IgRyhWKSJdLFsxLDEsIlxcYW1hbGdfe3BcXGluIFZ9QSJdLFswLDEsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzIsMywiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XSxbMCwyXSxbMywxLCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dXQ==
\[\begin{tikzcd}
	{a\in \mathscr G(U_0)} & {(a,a,...,a)_{j\in J}\in\mathscr G(V)} \\
	{\amalg_{q\in U_0}\mathscr G_q=\amalg_{q\in U_0}A} & {\amalg_{q\in V}A}
	\arrow[hook', from=1-1, to=2-1]
	\arrow[hook', from=1-2, to=2-2]
	\arrow[from=1-1, to=1-2]
	\arrow[hook', from=2-2, to=2-1]
\end{tikzcd}\]
	Because the map from $\mathscr G(U_0)\to \amalg_{q\in U_0}\mathscr G_q=\amalg_{q\in U_0}A$ is the diagonal map, therefore the map we considering must factor through it. Hence it could only be the diagonal map, with index set $J$. 
\end{itemize} Therefore by commutativity of the diagram together with the injectivity of the above map we can conclude $\alpha(U_0)=0$ as expected.

\end{proof}

%\subsection{Remarks} In fact, we can avoid the argument above. Because for any open subset $U$, we can cover it by an open covering of connected subset. Therefore we can assume $U=\cup_{i\in J}U_j$ for each $U_j$ being connected. It suffices to check for each $U_j$, the map $\alpha(U_j)$ is $0$ group homomorphism. 


\subsection{Abelian group structure}
	The Abelian group structure on $\mathcal Hom(\mathscr F,\mathscr G)(U)$ is given by defining 
	\[\alpha+\beta (U):\mathscr F(U)\to \mathscr G(U) ~ x\mapsto \alpha(U)x+\beta(U)x\] for two natrual transformations $\alpha,\beta\in \mathcal Hom(\mathscr F,\mathscr G)(U)$. Notice that $\alpha+\beta$ is indeed a natural transformation, because it's compatible with restriction maps, which we could check by definition... 
	Element $0\in \mathcal Hom(\mathscr F,\mathscr G)(U)$ is just a natural transformation sends everything to $0\in \mathscr G(U)$.


\section{2.3.D.}

\subsection{(a)}

Since the stalk doesn't commute with sheaf hom, I guess it could be more complicated to compute the stalk for sheaf hom $\mathcal Hom$. So I'll check two functors are isomorphic in terms of \textit{natural transformation}. 

Let $\mathscr C:=\underline{\{p\}}$ denotes the constant sheaf with value set $\{p\}$.
Firstly, by definition we know for any open subset $U\subset X$
\begin{align*}
	\mathcal Hom (\mathscr C,\mathscr F)(U) =&~ \operatorname{Mor}(\mathscr C\vert_U,\mathscr F\vert_U).
\end{align*}
Pick any element $\alpha\in\operatorname{Mor}(\mathscr C\vert_U,\mathscr F\vert_U)$, which is a natural transformation. 

Endow $\{p\}$ with discrete topology. 
For any open subset $V_1\subset U$, we have set map $\alpha(V_1)$
% https://q.uiver.app/#q=WzAsMixbMCwwLCJmXFxpblxcbWF0aHNjciBDXFxtaWRfVShWXzEpPVxcbWF0aHNjciBDKFZfMSkiXSxbMSwwLCJcXG1hdGhzY3IgRlxcbWlkX1UoVl8xKT1cXG1hdGhzY3IgKFZfMSkiXSxbMCwxXV0=
\[\begin{tikzcd}
	{\alpha(V_1):~\mathscr C\vert_U(V_1)=\mathscr C(V_1)} & {\mathscr F\vert_U(V_1)=\mathscr F(V_1)}
	\arrow[from=1-1, to=1-2].
\end{tikzcd}\]
The domain only contains one element: the set is all continuous map from some open subset in $V_1$ to $\{p\}$, hence there's only such function and we denote it as $f$. It follows that the map is completely determined by where $f$ goes, $\alpha(V_1)$ could be identified with an element in $\mathscr F(V_1)$. In particular, for any $\alpha\in\operatorname{Mor}(\mathscr C\vert_U,\mathscr F\vert_U)$, $\alpha\in \mathscr F(U)$, and 
\[\mathcal Hom (\mathscr C,\mathscr F)(U) = \operatorname{Mor}(\mathscr C\vert_U,\mathscr F\vert_U)= \mathscr F(U)\] for any $U\subset X$, notice that it's in fact set-theorically bijection, hence it's a natural isomorphism and therefore two functors are isomorphic as expected. \todo{Need to verify}

\subsection{References}

A potentially related post \href{https://math.stackexchange.com/questions/3755492/isomorphism-of-hom-sheaf}{HERE}.

\section{2.3.E.}

\begin{itemize}

\item Diagram Chase: ?

\item Universal Property: According to Definition 1.6.4., Kernel was defined using universal property. Therefore we can use universal property of $\operatorname{Ker}(\phi(U))$ to deduce the unique existence of such map for $\operatorname{Ker}(\phi(V))\to \mathscr G(U)=0$.
\end{itemize}

\section{2.3.G. 2.3.H.}

Notice that we're talking about pre-sheaves here. Hence these properties are satisfied by definition\dots

\section{2.3.J.}

Question: wouldn't it be better if $\underline{\mathbb Z}$ is replaced by $\underline{\mathbb C}$?

\subsection{References}

See a post \href{https://math.stackexchange.com/questions/847367/cokernel-of-a-sheaf-morphism-not-being-a-sheaf}{HERE}.
In fact, the quotient sheaf could be not separated, see a post \href{https://mathoverflow.net/questions/182386/is-the-cokernel-of-a-map-of-sheaves-a-seperated-presheaf}{HERE}.

See a detailed lecture note \href{https://www.kth.se/polopoly_fs/1.291614.1550158503!/Menu/general/column-content/attachment/Lecture1AlgGeo.pdf}{HERE}.

And a solution \href{https://math.mit.edu/~mckernan/Teaching/09-10/Autumn/18.725/model5.pdf}{HERE} and \href{https://metaphor.ethz.ch/x/2017/fs/401-3146-12L/ex/SolSheet5.pdf}{HERE}.

Here's another \href{https://www.kth.se/polopoly_fs/1.291614.1550158503!/Menu/general/column-content/attachment/Lecture1AlgGeo.pdf}{example} where image presheaf might not be a sheaf.


\section{2.4.A.}

\subsection{Hint}
See G\;ortz's book \cite{gortz2020algebraic}, page 52, Prop 2.23. (1); or Lemma 2.9. on Page 35 of \cite{qing2006algebraic}. 


\section{2.4.2. Compatible Germs}\label{2.4.2.}

See a \href{https://math.stackexchange.com/questions/2042363/compatible-germs-and-the-espace-étalé}{post} regarding compatible germs and Espace \'Etal\'e.

\subsection{Two Equivalent Definitions}
The following two definitions are equivalent:
\begin{itemize}
	\item \textit{Element $(s_p)_{p\in U}\in \prod_{p\in U}\mathscr F_p$ consists of compatible germs \dots }
	\item \textit{There is an open covering $\{U_i\}$ of U, \dots}
\end{itemize}
\begin{proof}
	For any $p\in U$, pick some representative of $s_p\in\mathscr F_p$ as follow: \[(U_p,\Tilde{s}_p)\]where open subset $U_p\subset U$ contains $p$ with $\Tilde s_p\in\mathscr F(U_p)$. Then we take \[\{U_p\}_{p\in U}\] as an open covering of $U$ and take corresponding sections $\Tilde s_p\in\mathscr F(U_p)$ for $p\in U$. We can check conditions for the second statement is satisfied: Clearly $p\in U_p$ and $s_p$ is the germ of $\Tilde s_p$ at $p$ for the first condition required this is true for any $q\in U_p$.

	Conversely, pick any $p\in U$. We can find some $U_i$ that contains $p$ with a section $f_i\in\mathscr F(U_i)$ such that $s_p$ is the germ of $f_i$ at $p$. So we take 
	\[(f_i\in\mathscr F(U_i),~U_p)\in\mathscr F_p\] as representative of $f_i$. Notice that germ of $f_i$ at any $q\in U_i$ is $s_q$ as expected. 
\end{proof}

\subsection{Section induces a choice of compatible germs}
\textit{Any sections $s$ of $\mathscr F$ over $U$ gives a choice of compatible germs for $U$.}
\begin{proof}
	Let $s\in \mathscr F(U)$ as given and pick any open covering $\{U_i\}_{i\in I}$ of $U$ where $I$ is an index set. And define $f_i:=s\vert_{U_i}\in \mathscr F(U_i)$. Now we may assume $p\in U_i$ for some $U_i$.
	The following diagram is commute for any $p\in U_i$, with element being the image under corresponding maps.
	% https://q.uiver.app/#q=WzAsNixbMCwwLCJcXG1hdGhzY3IgRihVKSJdLFsxLDAsIlxcbWF0aHNjciBGKFVfaSkiXSxbMiwwLCJcXG1hdGhzY3IgRl9wIl0sWzAsMSwicyJdLFsxLDEsImZfaTo9c1xcdmVydF97VV9pfSJdLFsyLDEsInNfcCJdLFswLDFdLFsxLDJdLFszLDQsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XSxbMyw1LCIiLDIseyJjdXJ2ZSI6Mn1dXQ==
\[\begin{tikzcd}
	{\mathscr F(U)} & {\mathscr F(U_i)} & {\mathscr F_p} \\
	s & {f_i:=s\vert_{U_i}} & {s_p}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[maps to, from=2-1, to=2-2]
	\arrow[curve={height=12pt}, from=2-1, to=2-3]
\end{tikzcd}\]
	Assume $p\in U_i$ for a fixed $i\in I$, then 
	\[s_p=(\mathscr F(U)\to \mathscr F_p)(s)=(\mathscr F(U_p)\to \mathscr F_p)(f_i)\] by commutativity of the above diagram. Hence $s_p$ is germ of $f_i$ at $p$ as expected.
\end{proof}

\section{2.4.B.}\label{2.4.B.}
\[\mathscr F(U)\to \prod_{p\in U}~\mathscr F_p\]
In the last subsection of \Cref{2.4.2.}, we checked that any section will induce something called compatible germs on the left of the above map. Question is that what are the images of the above map? The following lemma will give us complete description of the image of the map above.

\subsection{}
\textit{Any choice of compatible germs is the image of a section.}
\begin{proof}
	I'll take the second definitions of a choice of compatible germs: there is an open cover $\{U_i\}_{i\in I}$ of $U$ where $I$ is understood as an index set, and there are sections $f_i\in\mathscr F(U_i)$ such that $s_p$ is the germ of $f_i$ at any $p\in U_i$.

	
	Let's consider two open subsets $U_i,U_j\subset U$ where $i,j\in I$ with $f_i\in \mathscr F(U_i), f_j\in\mathscr F(U_j)$. Assume $U_i\cap U_j\neq\emptyset$. Then for any $p\in U_i\cap U_j$, $s_p$ is the germ of $f_i$ and $f_j$ at $p$, i.e. 
	\[[U_i,f_i]=s_p=[U_j,f_j]\in\mathscr F_p.\] Hence there exists open subset $W_{ij,p}\subset U_i\cap U_j$ containing $p$ such that $f_i\vert_{W_{ij,p}}=f_j\vert_{W_{ij}}$. Notice that $p\in U_i\cap U_j$ is arbitrary, therefore for any $p$ there exists some $W_{ij,p}$ (depending on $p$). And all such $\{W_{ij,p}\}_{p\in U_i\cap U_j}$ will be an open covering for $U_i\cap U_j$, by Identity Axiom we know \[f_i\vert_{U_i\cap U_j}=f_j\vert_{U_i\cap U_j}.\]

	While $i,j$ were arbitrary, Gluability Axiom implies there exists $f\in\mathscr F(U)$ such that $f\vert_{U_i}=f_i$. And we can check that $f$ is indeed the preimage of the given choice of compatible germs: pick some $U_i$ containing $p$, \[f_p=(\mathscr F(U_i)\to \mathscr F_p)(f\vert_{U_i})\] Hence $f_p$ is the germ of $f_i$ at $p$. 

\end{proof}

\subsection{Hint}

See this \href{https://math.stackexchange.com/questions/3587877/showing-that-compatible-germs-are-the-image-of-a-section}{post}.

\section{2.4.C.}\label{2.4.C.}

According to the hint, we have the following diagram commute for according to construction of 2.3.A.

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXG1hdGhzY3IgRihVKSJdLFsxLDAsIlxcbWF0aHNjciBHKFUpIl0sWzAsMSwiXFxwcm9kX3twXFxpbiBVfVxcbWF0aHNjciBGX3AiXSxbMSwxLCJcXHByb2Rfe3BcXGluIFV9XFxtYXRoc2NyIEdfcCJdLFswLDEsIlxccGhpXzEoVSkiLDAseyJvZmZzZXQiOi0xfV0sWzAsMSwiXFxwaGlfMihVKSIsMix7Im9mZnNldCI6MX1dLFsxLDMsIlxcaW90YSIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsMywiXFxQaGkiLDIseyJvZmZzZXQiOjF9XSxbMCwyLCJcXHBpIiwyLHsib2Zmc2V0IjotMX1dXQ==
\[\begin{tikzcd}
	{\mathscr F(U)} & {\mathscr G(U)} \\
	{\prod_{p\in U}\mathscr F_p} & {\prod_{p\in U}\mathscr G_p}
	\arrow["{\phi_1(U)}", shift left, from=1-1, to=1-2]
	\arrow["{\phi_2(U)}"', shift right, from=1-1, to=1-2]
	\arrow["\iota", hook, from=1-2, to=2-2]
	\arrow["\Phi"', shift right, from=2-1, to=2-2]
	\arrow["\pi"', shift left, from=1-1, to=2-1]
\end{tikzcd}\]

Hence we have 
\begin{align*}
	\iota\circ\phi_1(U)=\Phi\circ\pi=\iota\circ\phi_2(U)
	~\Rightarrow~ \phi_1(U)=\phi_2(U)
\end{align*}for $\iota$ is injective. 

\section{2.4.D.}

See Hartshorne \cite{hartshorne2013algebraic} Chapter II, Proposition 1.1.

\subsection{Warning}

It could happen that two non-isomorphic sheaves have isomorphic stalks. See Sheaf Hom \Cref{2.3.C.} regarding skycraper sheaf and constant sheaf. 

See a post \href{https://math.stackexchange.com/questions/43314/failure-of-isomorphisms-on-stalks-to-arise-from-an-isomorphism-of-sheaves}{HERE}.

\section{2.4.E.}

\subsection{(a)}

Pick a non-separated presheaf: See Stacks Project Definition \href{https://stacks.math.columbia.edu/tag/0078}{007A}\todo{?} 

\href{https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwit-uamm8WEAxUoHTQIHf3_AbwQFnoECA4QAw&url=https%3A%2F%2Fmath.stackexchange.com%2Fquestions%2F1904223%2Fexample-of-a-gluable-unseparated-presheaf%23%3A~%3Atext%3DSuppose%2520Y%2520admits%2520a%2520non%2Cequal%252C%2520but%2520not%2520globally%2520equal.&usg=AOvVaw1IZBw2qkgpiNTBtY1d9HpB&opi=89978449}{Here} is an example of gluable unseparated presheaf.

See a \href{https://math.stackexchange.com/questions/323466/example-of-a-section-s-of-a-presheaf-mathcalf-which-is-not-determined-by}{post} discussing two examples where section isn't determined by stalks.

\subsection{(b)}

For \Cref{2.4.C.}, it's important to assume $\mathscr G$ is a sheaf. 

See the answer by Andreas Blass \href{https://math.stackexchange.com/questions/323466/example-of-a-section-s-of-a-presheaf-mathcalf-which-is-not-determined-by}{HERE}.
For two pre-sheaves $\mathscr F,\mathscr G$, we might encounter a counterexample as follows:

\textit{Let $X=\{p,q\}$ be a discrete topological space with two points. Define two pre-sheaves $\mathscr F,\mathscr G$ on $X$ with values in set $\{0,1\}$.}
We specify two pre-sheaves as follow: 
\begin{center}
	\begin{tabular}{ |c|c|c|c|c| }
		\hline
		$U\subset X$ & $\{p,q\}$ & $\{p\}$ & $\{q\}$ & $\emptyset$\\
		\hline
		$\mathscr F(U)$ & $\{0,1\}$ & $\{0\}$ & $\{0\}$ & $\{0\}$ \\
		\hline
		$\mathscr G(U)$ & $\{0,1\}$ & $\{1\}$ & $\{1\}$ & $\{1\}$\\
		\hline
	\end{tabular}
\end{center} where the restriction maps for $\mathscr F$ and $\mathscr G$ are the only possible ones. Now we wish to define two different morphism of sheaves $\alpha,\beta:\mathscr F\to\mathscr G$ as natural transformations. For all open subsets except $U=\{p,q\}$, we have 
\[\alpha(U)=\beta(U):\{0\}\to\{1\}.\]
The place we intentionally make them different is when $U=\{p,q\}$:
\begin{align*}
	\alpha(U)&:\{0,1\}\to \{0,1\} ~\text{ by }~ 0\mapsto 0,~ 1\mapsto 1;\\
	\beta(U)&:\{0,1\}\to \{0,1\} ~\text{ by }~ 0\mapsto 1,~ 1\mapsto 0.
\end{align*}
Clearly as morphisms $\alpha\neq\beta$. But we have 
\begin{align*}
	\alpha_p\times\alpha_q:~ \prod_{x\in \{p,q\}}\mathscr F_x &\to \prod_{x\in\{p,q\}} \mathscr G_x\\ 
	\{0\}\times\{0\} &\mapsto\{1\}\times\{1\}.
\end{align*}

But notice that there's only \textbf{one} choice of induced morphism between $\mathscr F_x\to\mathscr G_x$ for any $x\in X=\{p,q\}$. This means, even if we're given another different maps $\beta$, it will induce the same map on stalks.\todo{?}



\subsection{(c)}

Take a pre-sheaf $\mathscr F$ (on space $X$) that is not a sheaf. For example, constant pre-sheaf. We know the stalk of its sheafification at any $p\in X$ is 
\[\mathscr F_p=\mathscr F^{\sharp}_p.\]

\section{2.4.O.}

A post \href{https://math.stackexchange.com/questions/58306/examples-of-surjective-sheaf-morphisms-which-are-not-surjective-on-sections}{HERE}, \href{https://math.stackexchange.com/questions/232049/surjectivity-of-morphisms-of-sheaves-on-a-base}{HERE}.

Another related \href{https://math.stackexchange.com/questions/3939622/example-of-isomorphic-sheaves-whose-sections-arent-isomorphic}{post} explaining isomorphic sheaves will give rise to injective and surjective maps on sections, this does not contradict the fact that surjectivity of morphism of sheaves cannot have analogus statement on sections.

See Richard on YouTube, Scheme Lecture 03 last example. Let $U=\mathbb C\setminus \{0\}$ with classical topology. 
\[\mathscr O_X(U)\to\mathscr O_X^{\ast}(U)\] is not surjective for $x\in\mathscr O_X^{\ast}(U)$ doesn't admits a holomorphic log for $f(0)=0$ while exponential function can never be $0$. Because we cannot find $log x$ as a holomorphic function on $\mathbb C$.

See a very detailed solution \href{https://www2.math.ethz.ch/education/bachelor/lectures/fs2016/math/alg_geom/Solution12.pdf}{HERE}.

\subsection{Complex analysis background}

See a note \href{https://math.berkeley.edu/~vvdatar/m185f16/notes/Lecture-15_Logarithm.pdf}{HERE}. 
A post \href{https://math.stackexchange.com/questions/1803352/why-cant-we-define-a-branch-of-log-fz-in-the-whole-complex-plane}{HERE}.

\section{2.5.1.}

\subsection{Remarks}

We can also define, for general open subset by taking limit: see comments of \href{https://stacks.math.columbia.edu/tag/009H}{009H} by \cite{stacks-project}; and \cite{gortz2020algebraic} Proposition 2.20. on Page 51 with discussion above it.

\section{2.5.B.}

\begin{proof}
	...	
\end{proof}

\subsection{Another Proof}

\begin{proof}
A potentially wrong\todo{?} approach is to recognise that, in the definition of $\mathscr F(U)$: we set 
\[\mathscr F(B):=\{(f_p\in F_p)_{p\in B} ~\mid~ \star\}.\]
The condition $\star$ is exactly the definition of compatible germs. While $F(B)$ could be identified with it's image in an injective map
\[F(B)\to \prod_{p\in B}F_p.\]
We proved in \Cref{2.4.B.} that the image is precisely the compatible germs, therefore we must have they're isomorphic.
\end{proof}

\subsection{Remarks}

In fact, for sheaf on base $F$, the map
\[F(U)\to\prod_{p\in U}F_p\] is injective. The proof is essentially the same as for sheaf on $X$.

\section{2.5.D.}

See \cite{qing2006algebraic} Chap 2 Exercise 2.7. on Page 44. This exercise will be used for Rising Sea \cite{RaviRisingSea} 4.3.B.

\section{2.6.A.}\label{2.6.A.}

I don't know what \enquote{natural} means. Is there a natural transformation? 

I'll just check the isomorphism. And assume kernel sheaf has its corresponding the universal property.

Firstly, we have $(\operatorname{Ker}(\mathcal F\to\mathcal G))_p\to \operatorname{Ker}(\mathcal F_p\to\mathcal G_p)$ by universal property of $\operatorname{Ker}(\mathcal F_p\to\mathcal G_p)$. This is because we can compute the composition 
\[(\operatorname{Ker}(\mathcal F\to\mathcal G))_p\to \mathcal F_p\to\mathcal G_p=0.\] For $s_p\in(\operatorname{Ker}(\mathcal F\to\mathcal G))_p$, we can diagram chasing it... 

Conversely, ... a diagram chasing argument. 

\subsection{Solution}

For details see Autumn HW2 2023 Problem 3. Or this online \href{https://www.math.utah.edu/~zwick/Classes/Hartshorne/Section2_1.pdf}{solution}.

\section{2.7.A.}

I couldn't give a complete example \dots

\subsection{Solution}

A \href{https://math.stackexchange.com/questions/439769/inverse-image-presheaf}{post} on inverse image presheaf.

\textit{Let $X=\{p,q\}, Y=\{w\}$ with discrete topolgoy. Let $\mathscr G$ be a constant sheaf on $Y$ with value group $A$ which contains at least two elements. Compute inverse image presheaf.}
\begin{proof}
	For any $U\subset X$, we have 
	\[\pi_{\text{pre}}^{-1}\mathscr F(U)=\operatorname{Colim}_{V\supset \pi(U)=\{w\}}\mathscr G(V)=\operatorname{Colim}_{V=\{w\}}\mathscr G(V)=A.\]
	Hence it's the inverse image pre-sheaf $\pi_{\text{pre}}^{-1}\mathscr F$ is a constant pre-sheaf. It's not a sheaf for exactly the same reason constant pre-sheaf isn't a sheaf for failure of gluability.\todo{?}
\end{proof}

\section{2.7.D.}\label{2.7.D.}

By definition... See \cite{hartshorne2013algebraic} Definition on Page 65 of Section 2 of Chapter II.

\section{2.7.G.}

See \Cref{Hart Chap 2 Ex 1.14.}.